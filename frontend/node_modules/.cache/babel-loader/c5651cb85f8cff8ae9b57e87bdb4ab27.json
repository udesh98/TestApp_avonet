{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UDESH\\\\Desktop\\\\Avo\\\\TestApp_avonet\\\\frontend\\\\src\\\\components\\\\Todo\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./styles.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Todo = props => {\n  _s();\n\n  const user = localStorage.getItem(\"token\");\n  const [todo, setTodo] = useState({\n    result: []\n  });\n  const [error, setError] = useState(false);\n  const [errorText, setErrorText] = useState(\"\");\n\n  const viewTodo = async () => {\n    try {\n      const url = \"http://localhost:8080/api/todo/\";\n      await axios.get(url, {\n        params: {\n          token: user\n        }\n      }).then(response => {\n        const arr = response.data;\n        console.log(arr);\n\n        if (arr.length === 0) {\n          setError(true);\n          setErrorText(\"You haven't been assigned for any task!\");\n        }\n\n        ;\n        console.log(arr);\n        setTodo(prevTodo => {\n          return { ...prevTodo,\n            result: arr\n          };\n        });\n      });\n    } catch (error) {\n      console.log(error.response.statusText);\n    }\n  };\n\n  const handleComplete = async (status, taskId) => {\n    try {\n      const url = \"http://localhost:8080/api/todo/update-status\";\n      await axios.put(url, {\n        params: {\n          taskId: taskId,\n          status: status\n        }\n      }).then(response => {\n        const arr = response.data;\n        console.log(arr);\n        setTodo(prevTodo => {\n          return { ...prevTodo,\n            result: arr\n          };\n        });\n      });\n    } catch (error) {\n      console.log(error.response.statusText);\n    }\n  };\n\n  useEffect(() => {\n    viewTodo();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [error && /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 38\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 50\n      }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: errorText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 56\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 23\n    }, this), !error && /*#__PURE__*/_jsxDEV(\"section\", {\n      children: /*#__PURE__*/_jsxDEV(\"center\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: props.projectTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"left\",\n              children: \"Task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"left\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"left\",\n              children: \"Assigned user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"left\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"right\",\n              children: \"Mark as complete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), todo.result.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"left\",\n                children: item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"left\",\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"left\",\n                children: item.assignedUserEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"left\",\n                children: item.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"right\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: styles.green_btn,\n                  onClick: () => handleComplete(\"completed\", item._id),\n                  style: {\n                    backgroundColor: item.status === \"pending\" ? '#3CB371' : 'transparent'\n                  },\n                  children: item.status === \"pending\" ? \"Complete\" : \"Successfully completed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 55\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 37\n              }, this)]\n            }, item._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Todo, \"VVa/gW4HkVW8TOI9n6ZKxaPR92I=\");\n\n_c = Todo;\nexport default Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"sources":["C:/Users/UDESH/Desktop/Avo/TestApp_avonet/frontend/src/components/Todo/index.jsx"],"names":["useState","useEffect","axios","styles","Todo","props","user","localStorage","getItem","todo","setTodo","result","error","setError","errorText","setErrorText","viewTodo","url","get","params","token","then","response","arr","data","console","log","length","prevTodo","statusText","handleComplete","status","taskId","put","projectTitle","map","item","title","description","assignedUserEmail","green_btn","_id","backgroundColor"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport styles from \"./styles.module.css\";\r\n\r\nconst Todo = (props) => {\r\n    const user = localStorage.getItem(\"token\");\r\n    const [todo, setTodo] = useState({\r\n        result: []\r\n    });\r\n\r\n    const [error, setError] = useState(false);\r\n    const [errorText, setErrorText] = useState(\"\");\r\n\r\n    const viewTodo = async () => {\r\n        try {\r\n            const url = \"http://localhost:8080/api/todo/\";\r\n            await axios.get(url, { params: { token: user } }).then((response) => {\r\n                const arr = response.data;\r\n                console.log(arr);\r\n                if (arr.length === 0) {\r\n                    setError(true);\r\n                    setErrorText(\"You haven't been assigned for any task!\");\r\n                };\r\n                console.log(arr);\r\n                setTodo((prevTodo) => {\r\n                    return {\r\n                        ...prevTodo,\r\n                        result: arr,\r\n                    }\r\n                });\r\n            }\r\n            );\r\n        } catch (error) {\r\n            console.log(error.response.statusText);\r\n        }\r\n    };\r\n\r\n    const handleComplete = async (status, taskId) => {\r\n        try {\r\n            const url = \"http://localhost:8080/api/todo/update-status\";\r\n            await axios.put(url, { params: { taskId: taskId, status: status } }).then((response) => {\r\n                const arr = response.data;\r\n                console.log(arr);\r\n                setTodo((prevTodo) => {\r\n                    return {\r\n                        ...prevTodo,\r\n                        result: arr,\r\n                    }\r\n                });\r\n            }\r\n            );\r\n        } catch (error) {\r\n            console.log(error.response.statusText);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        viewTodo();\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <div>\r\n            {error && <section><br /><br /><br /><br /><center><h1>{errorText}</h1></center></section>}\r\n            {!error && <section>\r\n                <center>\r\n                    <h2>{props.projectTitle}</h2>\r\n                    <table>\r\n                        <tr>\r\n                            <th align=\"left\">Task</th>\r\n                            <th align=\"left\">Description</th>\r\n                            <th align=\"left\">Assigned user</th>\r\n                            <th align=\"left\">Status</th>\r\n                            <th align=\"right\">Mark as complete</th>\r\n                        </tr>\r\n                        {todo.result.map((item) => {\r\n                            return (\r\n                                <tr key={item._id}>\r\n                                    <td align=\"left\">{item.title}</td>\r\n                                    <td align=\"left\">{item.description}</td>\r\n                                    <td align=\"left\">{item.assignedUserEmail}</td>\r\n                                    <td align=\"left\">{item.status}</td>\r\n                                    <td align=\"right\"><button className={styles.green_btn} onClick={()=> handleComplete(\"completed\", item._id)} style={{backgroundColor: item.status===\"pending\" ? '#3CB371' : 'transparent'}}>{item.status===\"pending\" ? \"Complete\" : \"Successfully completed\"}</button></td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </table>\r\n                </center>\r\n            </section>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Todo;"]},"metadata":{},"sourceType":"module"}