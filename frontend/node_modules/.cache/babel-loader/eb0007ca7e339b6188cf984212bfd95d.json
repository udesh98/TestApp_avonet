{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UDESH\\\\Desktop\\\\Avo\\\\TestApp_avonet\\\\frontend\\\\src\\\\components\\\\Todo\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./styles.module.css\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Todo = props => {\n  _s();\n\n  const user = localStorage.getItem(\"token\");\n  const [todo, setTodo] = useState({\n    result: []\n  });\n  const [error, setError] = useState(false);\n  const [errorText, setErrorText] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const viewTodo = async () => {\n    try {\n      const url = \"http://localhost:8080/api/todo/\";\n      await axios.get(url, {\n        params: {\n          token: user\n        }\n      }).then(response => {\n        const arr = response.data; // console.log(arr);\n\n        dispatch({\n          type: 'setTodo',\n          payload: {\n            arr\n          }\n        });\n\n        if (arr.length === 0) {\n          setError(true);\n          setErrorText(\"You haven't been assigned for any task!\");\n        }\n\n        ;\n        setTodo(prevTodo => {\n          return { ...prevTodo,\n            result: arr\n          };\n        });\n      });\n    } catch (error) {\n      console.log(error.response.statusText);\n    }\n  };\n\n  const handleComplete = async (status, taskId) => {\n    try {\n      const url = \"http://localhost:8080/api/todo/update-task\";\n      await axios.put(url, {\n        taskId: taskId,\n        status: status\n      }).then(response => {\n        const arr = response.data;\n        console.log(arr);\n      });\n    } catch (error) {\n      console.log(error.response.statusText);\n    }\n  }; // useEffect(() => {\n  //     viewTodo();\n  // }, []);\n\n\n  useEffect(() => {\n    console.log(\"render todo\");\n    viewTodo();\n  }, [todo]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [error && /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 38\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 50\n      }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: errorText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 56\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 23\n    }, this), !error && /*#__PURE__*/_jsxDEV(\"section\", {\n      children: /*#__PURE__*/_jsxDEV(\"center\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"left\",\n              children: \"Task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"left\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"left\",\n              children: \"Assigned user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"left\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"right\",\n              children: \"Mark as complete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), todo.result.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"left\",\n                children: item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"left\",\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"left\",\n                children: item.assignedUserEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"left\",\n                children: item.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                align: \"right\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: styles.green_btn,\n                  onClick: () => handleComplete(\"completed\", item._id),\n                  style: {\n                    backgroundColor: item.status === \"pending\" ? '#3CB371' : 'transparent'\n                  },\n                  disabled: item.status === \"completed\" ? true : false,\n                  children: item.status === \"pending\" ? \"Complete\" : \"Successfully completed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 37\n              }, this)]\n            }, item._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Todo, \"cbhFxDbCn8pUWVwgVHdYqsWucsU=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Todo;\nexport default Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"sources":["C:/Users/UDESH/Desktop/Avo/TestApp_avonet/frontend/src/components/Todo/index.jsx"],"names":["useState","useEffect","axios","styles","useDispatch","Todo","props","user","localStorage","getItem","todo","setTodo","result","error","setError","errorText","setErrorText","dispatch","viewTodo","url","get","params","token","then","response","arr","data","type","payload","length","prevTodo","console","log","statusText","handleComplete","status","taskId","put","map","item","title","description","assignedUserEmail","green_btn","_id","backgroundColor"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport styles from \"./styles.module.css\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst Todo = (props) => {\r\n    const user = localStorage.getItem(\"token\");\r\n    const [todo, setTodo] = useState({\r\n        result: []\r\n    });\r\n    const [error, setError] = useState(false);\r\n    const [errorText, setErrorText] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n\r\n    const viewTodo = async () => {\r\n        try {\r\n            const url = \"http://localhost:8080/api/todo/\";\r\n            await axios.get(url, { params: { token: user } }).then((response) => {\r\n                const arr = response.data;\r\n                // console.log(arr);\r\n                \r\n                dispatch({ type: 'setTodo', payload: {arr} });\r\n\r\n                if (arr.length === 0) {\r\n                    setError(true);\r\n                    setErrorText(\"You haven't been assigned for any task!\");\r\n                };\r\n                setTodo((prevTodo) => {\r\n                    return {\r\n                        ...prevTodo,\r\n                        result: arr,\r\n                    }\r\n                });\r\n            }\r\n            );\r\n        } catch (error) {\r\n            console.log(error.response.statusText);\r\n        }\r\n    };\r\n\r\n    const handleComplete = async (status, taskId) => {\r\n        try {\r\n            const url = \"http://localhost:8080/api/todo/update-task\";\r\n            await axios.put(url, { taskId: taskId, status: status }).then((response) => {\r\n                const arr = response.data;\r\n                console.log(arr);\r\n            }\r\n            );\r\n        } catch (error) {\r\n            console.log(error.response.statusText);\r\n        }\r\n    };\r\n\r\n    // useEffect(() => {\r\n    //     viewTodo();\r\n    // }, []);\r\n\r\n    useEffect(() => {\r\n        console.log(\"render todo\");\r\n        viewTodo();\r\n    }, [todo]);\r\n\r\n    return (\r\n        <div>\r\n            {error && <section><br /><br /><br /><br /><center><h1>{errorText}</h1></center></section>}\r\n            {!error && <section>\r\n                <center>\r\n                    <br /><br /><br />\r\n                    <table>\r\n                        <tr>\r\n                            <th align=\"left\">Task</th>\r\n                            <th align=\"left\">Description</th>\r\n                            <th align=\"left\">Assigned user</th>\r\n                            <th align=\"left\">Status</th>\r\n                            <th align=\"right\">Mark as complete</th>\r\n                        </tr>\r\n                        {todo.result.map((item) => {\r\n                            return (\r\n                                <tr key={item._id}>\r\n                                    <td align=\"left\">{item.title}</td>\r\n                                    <td align=\"left\">{item.description}</td>\r\n                                    <td align=\"left\">{item.assignedUserEmail}</td>\r\n                                    <td align=\"left\">{item.status}</td>\r\n                                    <td align=\"right\">\r\n                                        <button\r\n                                            className={styles.green_btn}\r\n                                            onClick={() => handleComplete(\"completed\", item._id)}\r\n                                            style={{ backgroundColor: item.status === \"pending\" ? '#3CB371' : 'transparent' }}\r\n                                            disabled={item.status === \"completed\" ? true : false}>\r\n                                            {item.status === \"pending\" ? \"Complete\" : \"Successfully completed\"}\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </table>\r\n                </center>\r\n            </section>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Todo;"]},"metadata":{},"sourceType":"module"}